//create table
CREATE TABLE lib1 (
  bno           NUMBER(10),
  bname         VARCHAR2(10),
  auther        VARCHAR2(10),
  allowed_days  NUMBER(10)
);

INSERT INTO lib1 VALUES (1, 'JAVA', 'Shilimkar', 10);
INSERT INTO lib1 VALUES (2, 'TOC',  'mr.mohite', 15);
INSERT INTO lib1 VALUES (3, 'DBMS', 'mr.Dhumal', 12);

SELECT * FROM lib1;


CREATE TABLE lib1_audit (
  bno              NUMBER(10),
  old_allowed_days NUMBER(10),
  new_allowed_days NUMBER(10)
);


CREATE OR REPLACE TRIGGER trg1
BEFORE UPDATE OR DELETE ON lib1
FOR EACH ROW
BEGIN
  INSERT INTO lib1_audit
  VALUES(:NEW.bno, :OLD.allowed_days, :NEW.allowed_days);
END;
/

UPDATE lib1
SET allowed_days = 13
WHERE bno = 1;


SELECT * FROM lib1;

SELECT * FROM lib1_audit;


DELETE FROM lib1
WHERE bno = 2;


SELECT * FROM lib1;


SELECT * FROM lib1_audit;
